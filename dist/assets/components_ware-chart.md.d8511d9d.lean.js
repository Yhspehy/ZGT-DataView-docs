import{u as P}from"./chunks/resize.5a8656eb.js";import{t as r}from"./chunks/color.9dd7ca9f.js";import{d as R,f as q,e as v,h as V,o as w,c as T,x as j,v as N,D as t,N as o}from"./chunks/framework.85410589.js";const W={name:"WareChart"},c=R({...W,props:{value:{default:50},waveHeight:{default:10},waveWidthRatio:{default:.06},wareOpacity:{default:.4},showValue:{type:Boolean,default:!0},fontSize:{default:30},valueText:{default:""},speed:{default:.04},color:{default:()=>["#3DE7C9","#00BAFF"]}},setup(_){const l=_,{containerRef:y,width:E,height:g}=P(),D=q(null);let e,s,B=0,u=0;const f=v(()=>{const{value:a,valueText:n}=l;return n||`${a.toFixed(0)}%`}),b=v(()=>{const{color:a,wareOpacity:n}=l;if(a.length===2){const i=s.createLinearGradient(0,0,0,e.height);return i.addColorStop(0,r(a[0]).replace(")",`,${n})`)),i.addColorStop(1,r(a[1]).replace(")",`,${n})`)),i}return a[0]?r(a[0]).replace(")",`,${n})`):r("#00BAFF").replace(")",`,${n})`)}),k=v(()=>{const{color:a}=l;if(a.length===2){const n=s.createLinearGradient(0,0,0,e.height);return n.addColorStop(0,r(a[0])),n.addColorStop(1,r(a[1])),n}return a[0]||"#00BAFF"});function x(){const{waveWidthRatio:a,waveHeight:n,speed:i,value:S,fontSize:F}=l,h=e.width,d=e.height;s.clearRect(0,0,h,d);let A=[];for(let p=u;p<u+h;p++){const C=Math.sin((u+p)*a+B),I=d*(1-S/100);A.push([p,I+C*n])}B+=i,B>Math.PI*2&&(B-=Math.PI*2),s.save(),s.beginPath();for(let p=0;p<A.length;p+=1){const C=A[p];s.lineTo(C[0],C[1])}s.lineTo(h,d),s.lineTo(u,d),s.lineTo(A[0][0],A[0][1]),s.fillStyle=b.value,s.fill(),s.restore(),s.save(),s.font=`bold ${F}px -apple-system,BlinkMacSystemFont,serif`,s.fillStyle=k.value;const m=s.measureText(f.value);s.fillText(f.value,(h-m.width)/2,d/2),s.restore(),window.requestAnimationFrame(x)}return V(()=>{e=D.value,s=D.value.getContext("2d"),e.width=E.value,e.height=g.value,x()}),(a,n)=>(w(),T("div",{class:"conical-chart",ref_key:"containerRef",ref:y},[j("canvas",{ref_key:"canvasRef",ref:D,id:"ware-canvas"},null,512)],512))}}),H=o("",4),O=o("",2),$=o("",2),z=o("",2),M=o("",2),U=o("",2),G=o("",2),L=o("",2),Q=JSON.parse('{"title":"WareTable","description":"","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"基础","slug":"基础","link":"#基础","children":[]},{"level":2,"title":"动态百分比","slug":"动态百分比","link":"#动态百分比","children":[]},{"level":2,"title":"波浪高度","slug":"波浪高度","link":"#波浪高度","children":[]},{"level":2,"title":"波浪宽度","slug":"波浪宽度","link":"#波浪宽度","children":[]},{"level":2,"title":"波浪透明度","slug":"波浪透明度","link":"#波浪透明度","children":[]},{"level":2,"title":"前进速度","slug":"前进速度","link":"#前进速度","children":[]},{"level":2,"title":"自定义文本内容","slug":"自定义文本内容","link":"#自定义文本内容","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[]}],"relativePath":"components/ware-chart.md","lastUpdated":1679272664000}'),J={name:"components/ware-chart.md"},Z=Object.assign(J,{setup(_){const l=q(60);let y="up";const E=setInterval(()=>{y==="up"?l.value>80?(l.value-=.2,y="down"):l.value+=.2:l.value<60?(l.value+=.2,y="up"):l.value-=.2},100);return N(()=>{clearInterval(E)}),(g,D)=>(w(),T("div",null,[H,t(c,{style:{width:"300px",height:"200px"},value:60}),O,t(c,{style:{width:"300px",height:"200px"},value:l.value},null,8,["value"]),$,t(c,{style:{width:"300px",height:"200px"},value:60,waveHeight:20}),z,t(c,{style:{width:"300px",height:"200px"},value:60,waveWidthRatio:.2},null,8,["waveWidthRatio"]),M,t(c,{style:{width:"300px",height:"200px"},value:60,wareOpacity:.7},null,8,["wareOpacity"]),U,t(c,{style:{width:"300px",height:"200px"},value:60,speed:.1},null,8,["speed"]),G,t(c,{style:{width:"300px",height:"200px"},value:60,valueText:"Hello",fontSize:20}),L]))}});export{Q as __pageData,Z as default};
