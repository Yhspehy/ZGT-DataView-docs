import{u as w}from"./chunks/resize.5a8656eb.js";import{d as P,e as f,o,c as e,b as i,F as $,K as z,x as _,t as x,Z as F,A as q,_ as V,D as A,N as D}from"./chunks/framework.85410589.js";const I=["width","height"],N=["d","fill"],j=["fill","x","y"],R=["xlink:href","width","height","x","y"],Y=["fill","x","y"],X={name:"ConicalChart"},L=P({...X,props:{data:null,fontSize:{default:12},textColor:{default:"#fff"},imgSize:{default:30},columnColor:{default:"rgba(0, 194, 255, 0.4)"},showValue:{type:Boolean,default:!1},sort:{type:Boolean,default:!0}},setup(n){const l=n,{containerRef:d,width:E,height:t}=w(),h=f(()=>{let c=0;l.data.forEach(s=>{s.value?s.value>c&&(c=s.value):s.name&&console.warn(`There is no value, name: ${s.name}`)});const p=l.data.map(s=>({...s,percent:s.value/c}));return l.sort?p.sort((s,a)=>a.value-s.value):p}),b=f(()=>{if(E.value===0||t.value===0)return[];const c=h.value.length,p=E.value/(c+1),s=t.value-l.imgSize-l.fontSize-5,a=t.value-l.fontSize-5;return h.value.map((g,C)=>{const{percent:u}=g,r=p*(C+1),m=p*C,S=p*(C+2),y=a-s*u,v=s*u*.6+y,T=`
          M${m}, ${a}
          Q${r}, ${v} ${r},${y}
          M${r},${y}
          Q${r}, ${v} ${S},${a}
          L${m}, ${a}
          Z
        `,k=(a+y)/2+l.fontSize/2;return{...g,d:T,x:r,y,textY:k}})});return(c,p)=>(o(),e("div",{class:"conical-chart",ref_key:"containerRef",ref:d},[(o(),e("svg",{class:"svg-container",width:i(E),height:i(t)},[(o(!0),e($,null,z(i(b),(s,a)=>(o(),e("g",{key:a},[_("path",{d:s.d,fill:n.columnColor},null,8,N),_("text",{style:F(`fontSize:${n.fontSize}px`),fill:n.textColor,x:s.x,y:i(t)-4},x(s.name),13,j),s.img?(o(),e("image",{key:0,"xlink:href":s.img,width:n.imgSize,height:n.imgSize,x:s.x-n.imgSize/2,y:s.y-n.imgSize},null,8,R)):q("",!0),n.showValue?(o(),e("text",{key:1,style:F(`fontSize:${n.fontSize}px`),fill:n.textColor,x:s.x,y:s.textY},x(s.value),13,Y)):q("",!0)]))),128))],8,I))],512))}});const B=V(L,[["__scopeId","data-v-a2dc3226"]]),M=D("",4),O=D("",2),Q=D("",2),Z=D("",2),G=D("",4),U=JSON.parse('{"title":"PercentPond","description":"","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"基础","slug":"基础","link":"#基础","children":[]},{"level":2,"title":"图片大小","slug":"图片大小","link":"#图片大小","children":[]},{"level":2,"title":"展示值","slug":"展示值","link":"#展示值","children":[]},{"level":2,"title":"不使用排序","slug":"不使用排序","link":"#不使用排序","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[]},{"level":2,"title":"Data Props","slug":"data-props","link":"#data-props","children":[]}],"relativePath":"components/conical-chart.md","lastUpdated":1678780972000}'),H={name:"components/conical-chart.md"},W=Object.assign(H,{setup(n){return(l,d)=>(o(),e("div",null,[M,A(B,{style:{width:"400px",height:"200px"},data:[{name:"周口",value:55,img:"/conical-chart/1.png"},{name:"南阳",value:120,img:"/conical-chart/2.png"},{name:"西峡",value:71,img:"/conical-chart/3.png"},{name:"驻马店",value:66,img:"/conical-chart/4.png"},{name:"新乡",value:80,img:"/conical-chart/5.png"},{name:"信阳",value:35,img:"/conical-chart/6.png"},{name:"漯河",value:15,img:"/conical-chart/7.png"}]},null,8,["data"]),O,A(B,{style:{width:"400px",height:"200px"},"img-size":50,data:[{name:"周口",value:55,img:"/conical-chart/1.png"},{name:"南阳",value:120,img:"/conical-chart/2.png"},{name:"西峡",value:71,img:"/conical-chart/3.png"},{name:"驻马店",value:66,img:"/conical-chart/4.png"},{name:"新乡",value:80,img:"/conical-chart/5.png"},{name:"信阳",value:35,img:"/conical-chart/6.png"},{name:"漯河",value:15,img:"/conical-chart/7.png"}]},null,8,["data"]),Q,A(B,{style:{width:"400px",height:"200px"},"show-value":!0,data:[{name:"周口",value:55,img:"/conical-chart/1.png"},{name:"南阳",value:120,img:"/conical-chart/2.png"},{name:"西峡",value:71,img:"/conical-chart/3.png"},{name:"驻马店",value:66,img:"/conical-chart/4.png"},{name:"新乡",value:80,img:"/conical-chart/5.png"},{name:"信阳",value:35,img:"/conical-chart/6.png"},{name:"漯河",value:15,img:"/conical-chart/7.png"}]},null,8,["data"]),Z,A(B,{style:{width:"400px",height:"200px"},sort:!1,data:[{name:"周口",value:55,img:"/conical-chart/1.png"},{name:"南阳",value:120,img:"/conical-chart/2.png"},{name:"西峡",value:71,img:"/conical-chart/3.png"},{name:"驻马店",value:66,img:"/conical-chart/4.png"},{name:"新乡",value:80,img:"/conical-chart/5.png"},{name:"信阳",value:35,img:"/conical-chart/6.png"},{name:"漯河",value:15,img:"/conical-chart/7.png"}]},null,8,["data"]),G]))}});export{U as __pageData,W as default};
