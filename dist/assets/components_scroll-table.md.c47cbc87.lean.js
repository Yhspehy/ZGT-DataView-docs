import{d as I,f as d,e as S,h as q,v as N,w as B,o as t,c as o,Z as r,b as u,A as f,F as m,K as b,t as v,i as W,_ as R,D as k,N as _}from"./chunks/framework.85410589.js";const Y={name:"ScrollTable"},P=I({...Y,props:{data:null,columnFlex:null,header:{default:null},showIdx:{type:Boolean,default:!1},animation:{type:Boolean,default:!0},duration:{default:3e3},headerBg:{default:"#002c8a"},oddRowBg:{default:"#010c32"},evenRowBg:{default:"#03184b"},rowNum:{default:7},rowHeightFixed:{default:0}},setup(l){const s=l,C=d(null),E=d(null),y=d(s.rowHeightFixed),p=d(s.data.map((a,c)=>({data:[...a],idx:c+1}))),i=d(0);let n=null;const D=S(()=>s.columnFlex.reduce((a,c)=>a+=c,s.showIdx?1:0));function x(){y.value||(y.value=C.value.clientHeight/s.rowNum)}function A(){s.data.length>s.rowNum&&(p.value=[...p.value,...p.value],n=window.setInterval(()=>{i.value++,i.value===s.data.length&&setTimeout(()=>{F(),i.value=0,setTimeout(()=>{w()},100)},500)},s.duration))}function F(){E.value.style.transitionProperty="none"}function w(){E.value.style.transitionProperty="transform"}return q(()=>{x(),s.animation&&A()}),N(()=>{n&&(clearInterval(n),n=null)}),B(()=>s.animation,a=>{a?A():n&&(clearInterval(n),n=null)}),B(()=>s.duration,a=>{a&&s.animation&&(n&&(clearInterval(n),n=null),p.value=s.data.map((c,e)=>({data:[...c],idx:e+1})),A())}),B(()=>s.rowNum,a=>{a?x():console.error("不能将rowNum设置为0")}),B(()=>s.data,a=>{a&&a.length>0&&(p.value=a.map((c,e)=>({data:[...c],idx:e+1})),i.value=0,s.animation&&W(()=>{n&&(clearInterval(n),n=null),A()}))}),(a,c)=>(t(),o("div",{class:"scroll-table",ref_key:"scrollTableRef",ref:C},[l.header&&l.header.length>0?(t(),o("div",{key:0,class:"thead",style:r({height:`${y.value}px`,backgroundColor:l.headerBg})},[l.showIdx?(t(),o("div",{key:0,class:"thead-col thead-idx",style:r({width:`${1/u(D)*100}%`})}," 序号 ",4)):f("",!0),(t(!0),o(m,null,b(l.header,(e,h)=>(t(),o("div",{key:e,class:"thead-col",style:r({width:`${(l.columnFlex[h]||1)/u(D)*100}%`})},v(e),5))),128))],4)):f("",!0),p.value&&p.value.length>0?(t(),o("div",{key:1,ref_key:"tbodyRef",ref:E,class:"tbody",style:r({transform:`translateY(-${y.value*i.value}px)`})},[(t(!0),o(m,null,b(p.value,(e,h)=>(t(),o("div",{key:h,class:"tbody-row",style:r({height:`${y.value}px`,backgroundColor:e.idx&1?l.oddRowBg:l.evenRowBg})},[l.showIdx?(t(),o("div",{key:0,class:"tbody-col tbody-idx",style:r({width:`${1/u(D)*100}%`})},v(e.idx),5)):f("",!0),(t(!0),o(m,null,b(e.data,(T,g)=>(t(),o("div",{key:g,class:"tbody-col",style:r({width:`${(l.columnFlex[g]||1)/u(D)*100}%`})},v(T),5))),128))],4))),128))],4)):f("",!0)],512))}});const $=R(P,[["__scopeId","data-v-750b28b5"]]),V=_("",4),H=_("",2),U=JSON.parse('{"title":"ScrollTable","description":"","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"基础","slug":"基础","link":"#基础","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[]}],"relativePath":"components/scroll-table.md","lastUpdated":1678780972000}'),j={name:"components/scroll-table.md"},z=Object.assign(j,{setup(l){return(s,C)=>(t(),o("div",null,[V,k($,{style:{height:"140px"},header:["船名航次","截关期/开船期","本航次集装箱数量","预计日期"],"column-flex":[2,4,3,2],data:[["TRAYW 001SI/001NW","2023-01-27 14:30:51/2023-01-29 14:30:51","50(45)","2023-01-24 14:30:51"],["TRAYW 001SI/001NW","2023-01-27 14:30:51/2023-01-29 14:30:51","50(45)","2023-01-24 14:30:51"],["TRAYW 001SI/001NW","2023-01-27 14:30:51/2023-01-29 14:30:51","50(45)","2023-01-24 14:30:51"],["TRAYW 001SI/001NW","2023-01-27 14:30:51/2023-01-29 14:30:51","50(45)","2023-01-24 14:30:51"]],"row-num":3,"show-idx":!0},null,8,["data"]),H]))}});export{U as __pageData,z as default};
